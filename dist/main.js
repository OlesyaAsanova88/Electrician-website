(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),o=document.querySelector(".mobile-menu");document.addEventListener("click",(l=>{l.target.closest(".callback-btn")||l.target.closest(".button-services")||l.target.closest(".absolute")?(e.style.display="block",t.style.display="block",o.classList.remove("open")):l.target.closest(".modal-close")?(e.style.display="none",t.style.display="none"):l.target.closest(".modal-callback")||(e.style.display="none",t.style.display="none")}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),o=document.querySelector(".item-dots");let l,c=0;t.forEach((()=>{const e=document.createElement("li");e.classList.add("dot"),o.appendChild(e)})),o.children[0].classList.add("dot-active");const s=document.querySelectorAll(".dot"),a=(e,t,o)=>{e[t].classList.remove(o)},r=(e,t,o)=>{e[t].classList.add(o)},n=()=>{a(t,c,"item-active"),a(s,c,"dot-active"),c++,c>=t.length&&(c=0),r(t,c,"item-active"),r(s,c,"dot-active")},i=(e=1500)=>{l=setInterval(n,e)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .item-btn")&&(a(t,c,"item-active"),a(s,c,"dot-active"),e.target.matches("#arrow-right")?c++:e.target.matches("#arrow-left")?c--:e.target.classList.contains("dot")&&s.forEach(((t,o)=>{e.target===t&&(c=o)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),r(t,c,"item-active"),r(s,c,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .item-btn")&&clearInterval(l)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .item-btn")&&i(3e3)}),!0),i(3e3)})(),(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".show-btn");window.onscroll=()=>{window.scrollY>700?e.classList.remove("show-btn-hide"):window.scrollY<700&&e.classList.add("show-btn-hide")},e.onclick=()=>{window.scrollTo(0,0)}})(),(()=>{const e=document.querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{t.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),t.childNodes[3].classList.remove("active")):(e.forEach((e=>{e.classList.remove("active"),e.childNodes[3].classList.remove("active")})),t.classList.add("active"),t.childNodes[3].classList.add("active"))}))}))})(),(({formId:e})=>{const t=document.getElementById(e),o=document.createElement("div"),l=t.querySelectorAll("input"),c=document.querySelector(".feedback"),s=document.querySelector(".modal-callback"),a=document.querySelector(".modal-overlay"),r=document.querySelector('[placeholder="Ваше имя"]'),n=document.querySelector('[placeholder="Телефон"]');try{if(!t)throw new Error("Верните форму на место, пожалуйста");t.addEventListener("submit",(e=>{e.preventDefault();let s=0;l.forEach((e=>{"tel"===e.type&&""===e.value||"text"===e.type&&""===e.value?(s++,alert("Заполните поля!")):e.value.length<2&&(s++,alert("Введите более 2ух символов!"))})),0===s&&(()=>{const e=t.querySelectorAll("input"),l=new FormData(t),s={};var a;o.textContent="Идет загрузка...",t.append(o),l.forEach(((e,t)=>{s[t]=e})),r.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яёА-ЯЁ ]/g,"").trim()})),n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^+() 0-9 -]+(.*)/,"$1").trim()})),(a=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{o.textContent="Данные отправлены!",c.value="Отправлено",e.forEach((e=>{e.value=""})),setTimeout(i,2e3)})).catch((e=>{o.textContent="Ошибка =("}))})()}))}catch(e){console.log(e.message)}const i=()=>{o.textContent="",s.style.display="none",a.style.display="none"}})({formId:"form"}),(()=>{const e=document.querySelector(".mobile-menu");document.addEventListener("click",(t=>{t.target.closest(".mob-menu-btn")?e.classList.toggle("open"):(t.target.closest(".close")||t.target.closest(".overlay")||t.target.closest(".mobel-li"))&&e.classList.remove("open")}))})(),new Swiper(".mySwiper",{slidesPerGroup:3,loop:!0,loopFillGroupWithBlank:!0,navigation:{nextEl:".arrow-right",prevEl:".arrow-left"},breakpoints:{1300:{slidesPerView:3,spaceBetween:30},900:{slidesPerView:2,spaceBetween:20},765:{slidesPerView:1,spaceBetween:10}}})})();